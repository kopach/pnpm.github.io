<!doctype html>
<html class="docs-version-6.x" lang="zh" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/zh/blog/rss.xml" title="pnpm Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh/blog/atom.xml" title="pnpm Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-91385296-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-91385296-1",{anonymize_ip:!0})</script>
<link rel="search" type="application/opensearchdescription+xml" title="pnpm" href="/zh/opensearch.xml">
<script src="https://buttons.github.io/buttons.js"></script><title data-react-helmet="true">过滤 | pnpm</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="https://pnpm.io/zh/img/ogimage.png"><meta data-react-helmet="true" name="twitter:image" content="https://pnpm.io/zh/img/ogimage.png"><meta data-react-helmet="true" property="og:url" content="https://pnpm.io/zh/filtering"><meta data-react-helmet="true" name="docsearch:language" content="zh"><meta data-react-helmet="true" name="docsearch:version" content="6.x"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-6.x"><meta data-react-helmet="true" property="og:title" content="过滤 | pnpm"><meta data-react-helmet="true" name="description" content="添加于：v2.13.0"><meta data-react-helmet="true" property="og:description" content="添加于：v2.13.0"><link data-react-helmet="true" rel="shortcut icon" href="/zh/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://pnpm.io/zh/filtering"><link data-react-helmet="true" rel="alternate" href="https://pnpm.io/filtering" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://pnpm.io/zh/filtering" hreflang="zh"><link data-react-helmet="true" rel="alternate" href="https://pnpm.io/es/filtering" hreflang="es"><link data-react-helmet="true" rel="alternate" href="https://pnpm.io/fr/filtering" hreflang="fr"><link data-react-helmet="true" rel="alternate" href="https://pnpm.io/pt/filtering" hreflang="pt"><link data-react-helmet="true" rel="alternate" href="https://pnpm.io/ru/filtering" hreflang="ru"><link data-react-helmet="true" rel="alternate" href="https://pnpm.io/it/filtering" hreflang="it"><link data-react-helmet="true" rel="alternate" href="https://pnpm.io/tr/filtering" hreflang="tr"><link data-react-helmet="true" rel="alternate" href="https://pnpm.io/ja/filtering" hreflang="ja"><link data-react-helmet="true" rel="alternate" href="https://pnpm.io/hu/filtering" hreflang="hu"><link data-react-helmet="true" rel="alternate" href="https://pnpm.io/filtering" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/zh/assets/css/styles.83e0797b.css">
<link rel="preload" href="/zh/assets/js/runtime~main.612dc76f.js" as="script">
<link rel="preload" href="/zh/assets/js/main.45e2462c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_aTHX">跳到主内容</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh/"><img src="/zh/img/pnpm-no-name-with-frame.svg" alt="pnpm" class="themedImage_185v themedImage--light_1osI navbar__logo"><img src="/zh/img/pnpm-no-name-with-frame.svg" alt="pnpm" class="themedImage_185v themedImage--dark_3wat navbar__logo"><b class="navbar__title">pnpm</b></a><a class="navbar__item navbar__link" href="/zh/motivation">文档</a><a class="navbar__item navbar__link" href="/zh/blog">博客</a><a class="navbar__item navbar__link" href="/zh/faq">常见问题及解答</a><a class="navbar__item navbar__link" href="/zh/community">社区</a><a class="navbar__item navbar__link" href="/zh/benchmarks">Benchmarks</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/zh/motivation">6.x</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/zh/next/filtering">Next</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/zh/filtering">6.x</a></li><li><a class="dropdown__link" href="/zh/5.x/filtering">5.x</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" class="iconLanguage_1Jhf"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>中文</span></span></a><ul class="dropdown__menu"><li><a href="/filtering" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">English</a></li><li><a href="/zh/filtering" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">中文</a></li><li><a href="/es/filtering" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">Español</a></li><li><a href="/fr/filtering" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">Français</a></li><li><a href="/pt/filtering" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">Português Brasileiro</a></li><li><a href="/ru/filtering" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">Русский</a></li><li><a href="/it/filtering" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">Italiano</a></li><li><a href="/tr/filtering" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">Türkçe</a></li><li><a href="/ja/filtering" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">日本語</a></li><li><a href="/hu/filtering" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">Magyar</a></li><li><a href="https://crowdin.com/project/pnpm" target="_blank" rel="noopener noreferrer" class="dropdown__link">Help Us Translate</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link">🧡 Sponsor Us</a><ul class="dropdown__menu"><li><a href="https://opencollective.com/pnpm" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>Open Collective<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_eaX9"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://github.com/sponsors/pnpm" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>GitHub Sponsors<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_eaX9"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a class="dropdown__link" href="/zh/crypto-donations">Crypto Donations</a></li></ul></div><a href="https://github.com/pnpm/pnpm" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="react-toggle toggle_2LxX react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_3PB9">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_3PB9">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_2m3g"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_bzDa"><button class="clean-btn backToTopButton_1FdN" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Qrx"><div class="sidebar_1PGX"><nav class="menu thin-scrollbar menu_1RO6 menuWithAnnouncementBar_2Vj8"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">简介</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">使用方法</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/zh/pnpm-cli">pnpm CLI</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/zh/pnpx-cli">pnpx CLI</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/zh/configuring">配置</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zh/filtering">过滤</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">CLI 命令</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">配置</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">主要功用</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">专栏</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">高级选项</a></li></ul></nav></div></aside><main class="docMainContainer_2Zr6"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_tIKa"><div class="docItemContainer_3OVq"><article><span class="theme-doc-version-badge badge badge--secondary">Version: 6.x</span><div class="tocCollapsible_EX35 theme-doc-toc-mobile tocMobile_3cj2"><button type="button" class="clean-btn tocCollapsibleButton_Zf0_">在此页面</button></div><div class="theme-doc-markdown markdown"><header><h1>过滤</h1></header><p>添加于：v2.13.0</p><p>过滤允许您将命令限制于包的特定子集。</p><p>pnpm 支持丰富选择器语法，可以通过名称或关系选择包。</p><p>可以通过 <code>--filter</code> 标志指定选择器：</p><div class="codeBlockContainer_3g5W"><div class="codeBlockContent_4L8v sh"><pre tabindex="0" class="prism-code language-sh codeBlock_3X1- thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_P5uq"><span class="token-line" style="color:#393A34"><span class="token plain">pnpm &lt;command&gt; --filter &lt;package_selector&gt;</span></span></code></pre><button type="button" aria-label="复制代码" class="copyButton_hNwO clean-btn">复制</button></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p><a href="https://medium.com/pnpm/pnpm-vs-lerna-filtering-in-a-multi-package-repository-1f68bc644d6a" target="_blank" rel="noopener noreferrer">一篇比较 Lerna 与 pnpm 选择器的文章</a></p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_3YcA" id="--filter-package_name"></a>--filter &lt;package_name&gt;<a class="hash-link" href="#--filter-package_name" title="直接链接到此标题">#</a></h2><p>添加于：v2.13.0</p><p>要选择准确的包，只需指定其名称 (<code>@scope/pkg</code>) 或使用 模式来选择一组包 (<code>@scope/*</code>)。</p><p>示例：</p><div class="codeBlockContainer_3g5W"><div class="codeBlockContent_4L8v sh"><pre tabindex="0" class="prism-code language-sh codeBlock_3X1- thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_P5uq"><span class="token-line" style="color:#393A34"><span class="token plain">pnpm test --filter &quot;@babel/core&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">pnpm test --filter &quot;@babel/*&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">pnpm test --filter &quot;*core&quot;</span></span></code></pre><button type="button" aria-label="复制代码" class="copyButton_hNwO clean-btn">复制</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_3YcA" id="--filter-package_name-1"></a>--filter &lt;package_name&gt;...<a class="hash-link" href="#--filter-package_name-1" title="直接链接到此标题">#</a></h2><p>添加于：v2.13.0</p><p>要选择一个软件包及其依赖项 (直接和非直接) 在包名称后加上省略号： <code>&lt;package_name&gt;...</code>。 例如，下一个命令将运行 <code>foo</code> 及其所有依赖的测试：</p><div class="codeBlockContainer_3g5W"><div class="codeBlockContent_4L8v sh"><pre tabindex="0" class="prism-code language-sh codeBlock_3X1- thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_P5uq"><span class="token-line" style="color:#393A34"><span class="token plain">pnpm test --filter foo...</span></span></code></pre><button type="button" aria-label="复制代码" class="copyButton_hNwO clean-btn">复制</button></div></div><p>您可以使用通配符来选择一组根目录包：</p><div class="codeBlockContainer_3g5W"><div class="codeBlockContent_4L8v sh"><pre tabindex="0" class="prism-code language-sh codeBlock_3X1- thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_P5uq"><span class="token-line" style="color:#393A34"><span class="token plain">pnpm test --filter &quot;@babel/preset-*...&quot;</span></span></code></pre><button type="button" aria-label="复制代码" class="copyButton_hNwO clean-btn">复制</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_3YcA" id="--filter-package_name-2"></a>--filter &lt;package_name&gt;^...<a class="hash-link" href="#--filter-package_name-2" title="直接链接到此标题">#</a></h2><p>添加于：v4.4.0</p><p>要只选择一个包的依赖项(直接和非直接)， 在包名前添加一个山形符号加上上面提到的省略号。 例如，下面的命令将运行所有 <code>foo</code>的依赖项的测试：</p><div class="codeBlockContainer_3g5W"><div class="codeBlockContent_4L8v sh"><pre tabindex="0" class="prism-code language-sh codeBlock_3X1- thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_P5uq"><span class="token-line" style="color:#393A34"><span class="token plain">pnpm test --filter &quot;foo^...&quot;</span></span></code></pre><button type="button" aria-label="复制代码" class="copyButton_hNwO clean-btn">复制</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_3YcA" id="--filter-package_name-3"></a>--filter ...&lt;package_name&gt;<a class="hash-link" href="#--filter-package_name-3" title="直接链接到此标题">#</a></h2><p>Added in: v2.14.0</p><p>要选择一个包及被其依赖的包(直接和非直接)，在包名前添加一个省略号: <code>...&lt;package_name&gt;</code>。 例如，这将运行 <code>foo</code> 以及依赖于它的所有包的测试：</p><div class="codeBlockContainer_3g5W"><div class="codeBlockContent_4L8v sh"><pre tabindex="0" class="prism-code language-sh codeBlock_3X1- thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_P5uq"><span class="token-line" style="color:#393A34"><span class="token plain">pnpm test --filter ...foo</span></span></code></pre><button type="button" aria-label="复制代码" class="copyButton_hNwO clean-btn">复制</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_3YcA" id="--filter-package_name-4"></a>--filter &quot;...^&lt;package_name&gt;&quot;<a class="hash-link" href="#--filter-package_name-4" title="直接链接到此标题">#</a></h2><p>添加于：v4.4.0</p><p>要只选择一个包的被依赖项 (直接和非直接) ，在包名前添加一个省略号与山形符号。 例如，这将运行所有依赖于 <code>foo</code> 的包的测试：</p><div class="codeBlockContainer_3g5W"><div class="codeBlockContent_4L8v text"><pre tabindex="0" class="prism-code language-text codeBlock_3X1- thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_P5uq"><span class="token-line" style="color:#393A34"><span class="token plain">pnpm test --filter &quot;...^foo&quot;</span></span></code></pre><button type="button" aria-label="复制代码" class="copyButton_hNwO clean-btn">复制</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_3YcA" id="--filter-directory"></a>--filter ./&lt;directory&gt;<a class="hash-link" href="#--filter-directory" title="直接链接到此标题">#</a></h2><p>添加于：v2.15.0</p><p>要仅选择指定目录下的包，您可以指定任何相对路径，路径通常为 POSIX 格式。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_3YcA" id="--filter-directory-1"></a>--filter {&lt;directory&gt;}<a class="hash-link" href="#--filter-directory-1" title="直接链接到此标题">#</a></h2><p>Added in: v4.7.0</p><p>包括指定目录下的所有项目。</p><p>也可以使用省略号与山形符号来选择依赖项与被依赖项：</p><div class="codeBlockContainer_3g5W"><div class="codeBlockContent_4L8v sh"><pre tabindex="0" class="prism-code language-sh codeBlock_3X1- thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_P5uq"><span class="token-line" style="color:#393A34"><span class="token plain">pnpm &lt;cmd&gt; --filter ...{&lt;directory&gt;}</span></span><span class="token-line" style="color:#393A34"><span class="token plain">pnpm &lt;cmd&gt; --filter {&lt;directory&gt;}...</span></span><span class="token-line" style="color:#393A34"><span class="token plain">pnpm &lt;cmd&gt; --filter ...{&lt;directory&gt;}...</span></span></code></pre><button type="button" aria-label="复制代码" class="copyButton_hNwO clean-btn">复制</button></div></div><p>也可以与 <code>[&lt;since&gt;]</code> 合并使用。 例如，要在某个目录中选择所有已更改的项目：</p><div class="codeBlockContainer_3g5W"><div class="codeBlockContent_4L8v sh"><pre tabindex="0" class="prism-code language-sh codeBlock_3X1- thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_P5uq"><span class="token-line" style="color:#393A34"><span class="token plain">pnpm &lt;cmd&gt; --filter &quot;{packages}[origin/master]&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">pnpm &lt;cmd&gt; --filter &quot;...{packages}[origin/master]&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">pnpm &lt;cmd&gt; --filter &quot;{packages}[origin/master]...&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">pnpm &lt;cmd&gt; --filter &quot;...{packages}[origin/master]...&quot;</span></span></code></pre><button type="button" aria-label="复制代码" class="copyButton_hNwO clean-btn">复制</button></div></div><p>或者你可以从某个目录中选择符合给定的通配符的所有包：</p><div class="codeBlockContainer_3g5W"><div class="codeBlockContent_4L8v text"><pre tabindex="0" class="prism-code language-text codeBlock_3X1- thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_P5uq"><span class="token-line" style="color:#393A34"><span class="token plain">pnpm &lt;cmd&gt; --filter &quot;@babel/*{components}&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">pnpm &lt;cmd&gt; --filter &quot;@babel/*{components}[origin/master]&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">pnpm &lt;cmd&gt; --filter &quot;...@babel/*{components}[origin/master]&quot;</span></span></code></pre><button type="button" aria-label="复制代码" class="copyButton_hNwO clean-btn">复制</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_3YcA" id="--filter-since"></a>--filter &quot;[&lt;since&gt;]&quot;<a class="hash-link" href="#--filter-since" title="直接链接到此标题">#</a></h2><p>添加于：v4.6.0</p><p>选择自指定的 commit / branch 以来有更改的所有包。 可以在前后添加 <code>...</code> 来包括依赖项/被依赖项：</p><p>例如，以下命令将运行自 <code>master</code> 以来所有变动过的包以及被其依赖的包的测试：</p><div class="codeBlockContainer_3g5W"><div class="codeBlockContent_4L8v sh"><pre tabindex="0" class="prism-code language-sh codeBlock_3X1- thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_P5uq"><span class="token-line" style="color:#393A34"><span class="token plain">pnpm test --filter &quot;...[origin/master]&quot;</span></span></code></pre><button type="button" aria-label="复制代码" class="copyButton_hNwO clean-btn">复制</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_3YcA" id="多重性"></a>多重性<a class="hash-link" href="#多重性" title="直接链接到此标题">#</a></h2><p>当包被过滤时，每个都会被匹配到至少一个选择器。 你可以使用无限数量的过滤器：</p><div class="codeBlockContainer_3g5W"><div class="codeBlockContent_4L8v sh"><pre tabindex="0" class="prism-code language-sh codeBlock_3X1- thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_P5uq"><span class="token-line" style="color:#393A34"><span class="token plain">pnpm test --filter ...foo --filter bar --filter baz...</span></span></code></pre><button type="button" aria-label="复制代码" class="copyButton_hNwO clean-btn">复制</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_3YcA" id="排除"></a>排除<a class="hash-link" href="#排除" title="直接链接到此标题">#</a></h2><p>Added in: v5.8.0</p><p>任何过滤规则选择器都可以作为排除项，只要在开头添加一个&quot;!&quot;。 在 zsh (可能还有其他shells) 中, &quot;!&quot; 应转义: <code>\!</code>.</p><p>例如，这将在除 <code>foo</code> 以外的所有项目中运行一个命令：</p><div class="codeBlockContainer_3g5W"><div class="codeBlockContent_4L8v sh"><pre tabindex="0" class="prism-code language-sh codeBlock_3X1- thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_P5uq"><span class="token-line" style="color:#393A34"><span class="token plain">pnpm &lt;cmd&gt; --filter=!foo</span></span></code></pre><button type="button" aria-label="复制代码" class="copyButton_hNwO clean-btn">复制</button></div></div><p>然后这将在所有不在 <code>lib</code>目录下的项目中运行一个命令：</p><div class="codeBlockContainer_3g5W"><div class="codeBlockContent_4L8v sh"><pre tabindex="0" class="prism-code language-sh codeBlock_3X1- thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_P5uq"><span class="token-line" style="color:#393A34"><span class="token plain">pnpm &lt;cmd&gt; --filter=!./lib</span></span></code></pre><button type="button" aria-label="复制代码" class="copyButton_hNwO clean-btn">复制</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_3YcA" id="--filter-prod-filtering_pattern"></a>--filter-prod &lt;filtering_pattern&gt;<a class="hash-link" href="#--filter-prod-filtering_pattern" title="直接链接到此标题">#</a></h2><p>添加于：v6.2.0</p><p>在从工作区选择依赖项时，会忽略 <code>devDependencies</code>，其余行为与 <code>--filter</code> 一致。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_3YcA" id="--test-pattern-glob"></a>--test-pattern &lt;glob&gt;<a class="hash-link" href="#--test-pattern-glob" title="直接链接到此标题">#</a></h2><p>Added in: v5.14.0</p><p><code>test-pattern</code> allows detecting whether the modified files are related to tests. If they are, the dependent packages of such modified packages are not included.</p><p>This option is useful with the &quot;changed since&quot; filter. For instance, the next command will run tests in all changed packages, and if the changes are in the source code of the package, tests will run in the dependent packages as well:</p><div class="codeBlockContainer_3g5W"><div class="codeBlockContent_4L8v sh"><pre tabindex="0" class="prism-code language-sh codeBlock_3X1- thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_P5uq"><span class="token-line" style="color:#393A34"><span class="token plain">pnpm --filter=&quot;...[origin/master]&quot; --test-pattern=&quot;test/*&quot; test</span></span></code></pre><button type="button" aria-label="复制代码" class="copyButton_hNwO clean-btn">复制</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_3YcA" id="--changed-files-ignore-pattern-glob"></a>--changed-files-ignore-pattern &lt;glob&gt;<a class="hash-link" href="#--changed-files-ignore-pattern-glob" title="直接链接到此标题">#</a></h2><p>Added in: v6.16.0</p><p>Allows to ignore changed files by glob patterns when filtering for changed projects since the specified commit/branch.</p><p>Usage example:</p><div class="codeBlockContainer_3g5W"><div class="codeBlockContent_4L8v sh"><pre tabindex="0" class="prism-code language-sh codeBlock_3X1- thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_P5uq"><span class="token-line" style="color:#393A34"><span class="token plain">pnpm --filter=&quot;...[origin/master]&quot; --changed-files-ignore-pattern=&quot;**/README.md&quot; run build</span></span></code></pre><button type="button" aria-label="复制代码" class="copyButton_hNwO clean-btn">复制</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://crowdin.com/project/pnpm/zh-CN" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_3ZDl" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页面</a></div><div class="col lastUpdated_11Bg"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档导航"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/zh/configuring"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">« 配置</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/zh/cli/add"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">pnpm add &lt;pkg&gt; »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_788J thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#--filter-package_name" class="table-of-contents__link">--filter &lt;package_name&gt;</a></li><li><a href="#--filter-package_name-1" class="table-of-contents__link">--filter &lt;package_name&gt;...</a></li><li><a href="#--filter-package_name-2" class="table-of-contents__link">--filter &lt;package_name&gt;^...</a></li><li><a href="#--filter-package_name-3" class="table-of-contents__link">--filter ...&lt;package_name&gt;</a></li><li><a href="#--filter-package_name-4" class="table-of-contents__link">--filter &quot;...^&lt;package_name&gt;&quot;</a></li><li><a href="#--filter-directory" class="table-of-contents__link">--filter ./&lt;directory&gt;</a></li><li><a href="#--filter-directory-1" class="table-of-contents__link">--filter {&lt;directory&gt;}</a></li><li><a href="#--filter-since" class="table-of-contents__link">--filter &quot;<since>&quot;</since></a></li><li><a href="#多重性" class="table-of-contents__link">多重性</a></li><li><a href="#排除" class="table-of-contents__link">排除</a></li><li><a href="#--filter-prod-filtering_pattern" class="table-of-contents__link">--filter-prod &lt;filtering_pattern&gt;</a></li><li><a href="#--test-pattern-glob" class="table-of-contents__link">--test-pattern &lt;glob&gt;</a></li><li><a href="#--changed-files-ignore-pattern-glob" class="table-of-contents__link">--changed-files-ignore-pattern &lt;glob&gt;</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">文档</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/zh/installation">入门</a></li><li class="footer__item"><a class="footer__link-item" href="/zh/pnpm-cli">pnpm CLI</a></li><li class="footer__item"><a class="footer__link-item" href="/zh/workspaces">工作空间</a></li><li class="footer__item"><a class="footer__link-item" href="/zh/npmrc">.npmrc</a></li></ul></div><div class="col footer__col"><div class="footer__title">社区</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/zh/users">用户展示</a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/pnpm" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_eaX9"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://r.pnpm.io/chat" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>项目聊天<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_eaX9"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/pnpmjs" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_eaX9"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Contributing</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/pnpm/pnpm" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_eaX9"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://crowdin.com/project/pnpm" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>帮助我们翻译<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_eaX9"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a href="https://www.netlify.com">
  <img src="https://www.netlify.com/img/global/badges/netlify-light.svg" alt="Deploys by Netlify">
</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/zh/img/pnpm-light.svg" alt="" class="themedImage_185v themedImage--light_1osI footer__logo"><img src="/zh/img/pnpm-light.svg" alt="" class="themedImage_185v themedImage--dark_3wat footer__logo"></div><div class="footer__copyright">Copyright © 2015-2021 contributors of pnpm</div></div></div></footer></div>
<script src="/zh/assets/js/runtime~main.612dc76f.js"></script>
<script src="/zh/assets/js/main.45e2462c.js"></script>
</body>
</html>